<!DOCTYPE html>
<html>
<body>

<h1>JavaScript Hoisting</h1>
<p>Hoisting is JavaScript's default behavior of moving declarations to the top.</p>

<h2>JavaScript Declarations are Hoisted</h2>

<p>In JavaScript, a variable can be declared after it has been used.<br><br>

In other words; a variable can be used before it has been declared.<br><br>

Example 1 gives the same result as Example 2:</p>

<h3>Example 1</h3>
<pre>
x = 5; 
// Assign 5 to x

elem = document.getElementById("demo"); 
// Find an element
elem.innerHTML = x;                     
// Display x in the element

var x; // Declare x
</pre>
<h3>Output:</h3>
<div>
<p id="demo"></p>
<script>
x = 5; 
// Assign 5 to x
elem = document.getElementById("demo"); 
// Find an element 
elem.innerHTML = x;         
// Display x in the element
var x; 
// Declare x
</script>
</div>

<h3>Example 2</h3>
<pre>
var x; 
// Declare x
x = 5; 
// Assign 5 to x

elem = document.getElementById("demo");
// Find an element
elem.innerHTML = x;                   
// Display x in the element
</pre>
<h3>Output:</h3>
<div>
  
</div>

<p>To understand this, you have to understand the term "hoisting".<br><br>

Hoisting is JavaScript's default behavior of moving all declarations to the top of the current scope (to the top of the current script or the current function).</p>

<h2>The let and const Keywords</h2>
<p>
Variables defined with let and const are hoisted to the top of the block, but not initialized.<br><br>

Meaning: The block of code is aware of the variable, but it cannot be used until it has been declared.<br><br>

Using a let variable before it is declared will result in a ReferenceError.<br><br>

The variable is in a "temporal dead zone" from the start of the block until it is declared:</p>

<h3>Example</h3>
<p>This will result in a ReferenceError:</p>
<pre>
carName = "Volvo";
let carName;
</pre>
<h3>Output:</h3>
<div>
<p>With <b>let</b>, you cannot use a variable before it is declared.</p>
<p id="demo2"></p>

<script>
try {
  carName = "Saab";
  let carName = "Volvo";
}
catch(err) { document.getElementById("demo2").innerHTML = err;
}
</script>
</div>

<p>Using a const variable before it is declared, is a syntax errror, so the code will simply not run.</p>

<h3>Example</h3>
<p>This code will not run.</p>

<pre>
carName = "Volvo";
const carName;
</pre>

<h3>Output:</h3>
<div>
<p>With <b>const</b>, you cannot use a variable before it is declared.</p>
<p>Try to remove the //.</p>
<p id="demo4"></p>
<script>
carName = "Volvo";
//const carName;
document.getElementById("demo4").innerHTML = carName;
</script>
</div>

<p>Read more about let and const in JS Let / Const.</p>

<h2>JavaScript Initializations are Not Hoisted</h2>

<p>JavaScript only hoists declarations, not initializations.<br>

Example 1 does not give the same result as Example 2:</p>
<h3> Example 1</h3>
<pre>
var x = 5; 
// Initialize x (declared and Assigned)
var y ;
// declared y
y = 7; 
// Assigne y
// Initialize y (declared and Assigned at the seme time)
elem = document.getElementById("demo");
// Find an element
elem.innerHTML = x + " " + y;        
// Display x and y
</pre>
<h3>Output:</h3>
<div>
<p id="demo5"></p>
<script>
var x = 5; // Initialize x
var y = 7; // Initialize y

elem = document.getElementById("demo5"); 
// Find an element 
elem.innerHTML = x + " " + y;      
// Display x and y

</script>
</div>

<h3>Example 2</h3>
<pre>
var x = 5; 
// Initialize x

elem = document.getElementById("demo");
// Find an element
elem.innerHTML = x + " " + y;           
// Display x and y

var y = 7;
// Initialize y
</pre>

<h3>Output:</h3>
<div>
<p id="demo6"></p>
<script>
var x2 = 5;
// Initialize x2
elem2 = document.getElementById("demo6"); 
// Find an element 
elem2.innerHTML = "x is " + x2 + " and y is " + y2; 
// Display x and y
var y2 = 7;  
// Initialize y2
</script>
</div>

<p>
Does it make sense that y is undefined in the last example?<br><br>

This is because only the declaration (var y), not the initialization (=7) is hoisted to the top.<br><br>

Because of hoisting, y has been declared before it is used, but because initializations are not hoisted, the value of y is undefined.<br><br>

Example 2 is the same as writing:
</p>

<h3>Example</h3>
<pre>
var x = 5; 
// Initialize x
var y;     
// Declare y

elem = document.getElementById("demo"); 
// Find an element
elem.innerHTML = x + " " + y;        
// Display x and y

y = 7;    
// Assign 7 to y
</pre>

<h3>Output</h3>
<div>
<p id="demo7"></p>
<script>
var x7 = 5; 
// Initialize x7
var y7; 
// Declare y
elem7 = document.getElementById("demo7"); // Find an element 
elem7.innerHTML = x7 + " " + y7;    
// Display x and y

y7 = 7;  
// Assign 7 to y
</script>
</div>

<h2>Declare Your Variables At the Top!</h2>
<p>Hoisting is (to many developers) an unknown or overlooked behavior of JavaScript.<br>

If a developer doesn't understand hoisting, programs may contain bugs (errors).

To avoid bugs, always declare all variables at the beginning of every scope.

Since this is how JavaScript interprets the code, it is always a good rule.
</p>

<p><b>
  Note:
</b>
Initialization is the process of assigning a value to the Variable. 

Every programming language has its own method of initializing the variable. 

If the value is not assigned to the Variable, then the process is only called a Declaration.

What is the difference between initialization and assignment?

Initialization gives a variable an initial value at the point when it is created. Assignment gives a variable a value at some point after the variable is created.
</p>

<p>
JavaScript in strict mode does not allow variables to be used if they are not declared.
Study "use strict" in the next chapter.
</p>


</body>
</html> 