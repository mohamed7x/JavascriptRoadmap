<!DOCTYPE html>
<html>
<body>

<h2>JavaScript const</h2>

<form action="../10.JavaScriptOperators/index.html">
  <input type="submit" value="Next" />
</form>

<p>
The const keyword was introduced in ES6 (2015). <br>
Variables defined with const cannot be <span style="color: red;">Redeclared</span>. <br>
Variables defined with const cannot be <span style="color: red;">Reassigned</span>. <br>
Variables defined with const have <span style="color: red;">Block Scope</span>.
</p>

<h2>Cannot be Reassigned</h2>
<p>A const variable cannot be reassigned:</p>
<h3>Example</h3>
<pre>
const PI = 3.141592653589793; 
PI = 3.14;      
// This will give an error 
PI = PI + 10;  
 // This will also give an error
</pre>

<h3>Output</h3>
<div>
  <p id="demo"></p>

  <script>
  try {
    const PI = 3.141592653589793;
    PI = 3.14;
  }
  catch (err) {
    document.getElementById("demo").innerHTML = err;
  }
  </script>
</div>

<h2>Must be Assigned</h2>
<p>JavaScript const variables must be assigned a value when they are declared:</p>
<h3>Correct</h3>
<pre>
const PI = 3.14159265359;
</pre>
<h3>Incorrect</h3>
<pre>
const PI; 
PI = 3.14159265359;
</pre>

<div style="background-color: #ffffcc;">
  <h2>When to use JavaScript const?</h2>
  <p>As a general rule,<br>
    <b>Always declare a variable with const when you know that the value should not be changed.</b><br>
  Use const when you declare:
  <ul>
    <li>A new Array </li>
    <li>A new Object </li>
    <li>A new Function</li>
    <li>A new RegExp </li>
  </ul>
  </p>
</div>


<h2>Constant Objects and Arrays</h2>

<p>The keyword const is a little misleading.<br>
It does not define a constant value. It defines a constant reference to a value.
<br>
Because of this you can NOT: <br>
<ul>
  <li>Reassign a constant value </li>
  <li>Reassign a constant array</li>
  <li>Reassign a constant object</li>
</ul>
But you CAN: 
<ul>
  <li>Change the elements of constant array</li>
  <li>Change the properties of constant objec </li>
</ul></p>

<h2>Constant Arrays</h2>
<p>You can change the elements of a constant array:</p>

<h3>Example</h3>
<pre>
// You can create a constant array: 
const cars = ["Saab", "Volvo", "BMW"];

// You can change an element: 
cars[0] = "Toyota"; 

// You can add an element: 
cars.push("Audi");
</pre>

<h3>Output</h3>

<div>
<p>Declaring a constant array does NOT make the elements unchangeable:</p>

<p id="demo1"></p>

<script>
// Create an Array:
const cars = ["Saab", "Volvo", "BMW"];

// Change an element:
cars[0] = "Toyota";

// Add an element:
cars.push("Audi");

// Display the Array:
document.getElementById("demo1").innerHTML = cars; 
</script>
</div>


<h3>But you can NOT reassign the array:</h3>
<p>You can NOT reassign a constant array:</p>

<div style="background-color: #ffdddd;"><h3>Example</h3>
  <pre>
  const cars = ["Saab", "Volvo", "BMW"];
  
  cars = ["Toyota", "Volvo", "Audi"];    
  // ERROR
  </pre></div>

<h3>Output</h3>

<div>
<p id="demo3"></p>
<script>
try {
  const cars = ["Saab", "Volvo", "BMW"];
cars = ["Toyota", "Volvo", "Audi"];
}
catch (err) {
  document.getElementById("demo3").innerHTML = err;
}
</script>
</div>

<h2>Constant Objects</h2>
<p>You can change the properties of a constant object:</p>
<h3>Example</h3>
<pre>
// You can create a const object:
const car = {type:"Fiat", model:"500", color:"white"}; 

// You can change a property: 
car.color = "red";

// You can add a property:
car.owner = "Johnson";
</pre>

<h3>Output</h3>

<div>
<p>Declaring a constant object does NOT make the objects properties unchangeable:</p>

<p id="demo4"></p>
<script>
// Create an object:
const car4 = {type:"Fiat", model:"500", color:"white"};

// Change a property:
car4.color = "red";
// Add a property:
car4.owner = "Johnson";

// Display the property:
document.getElementById("demo4").innerHTML = "Car owner is " + car4.owner; 
</script>
</div>

<p>But you can NOT reassign the object:</p>

<div style="background-color: #ffdddd;">
  <h3>Example</h3>
<pre>
const car = {type:"Fiat", model:"500", color:"white"}; 
car = {type:"Volvo", model:"EX60", color:"red"};    
// ERROR
</pre>
</div>

<h3>Output</h3>
<div>
<p>You can NOT reassign a constant object:</p>
<p id="demo5"></p>
<script>
try {
  const car5 = {type:"Fiat", model:"500", color:"white"};
  car5 = {type:"Volvo", model:"EX60", color:"red"};
}
catch (err) {
  document.getElementById("demo5").innerHTML = err;
}
</script>
</div>

<h2>Block Scope</h2>
<p>Declaring a variable with const is similar to let when it comes to Block Scope.
<br>
The x declared in the block, in this example, is not the same as the x declared outside the block:
</p>
<h3>Example</h3>
<pre>
const x = 10; 
// Here x is 10 , this is global scope


{ 
const x = 2;
// Here x is 2 , this is block scope 
}


// Here x is 10 
</pre>

<p>You can learn more about block scope in the chapter <a href="https://www.w3schools.com/js/js_scope.asp">JavaScript Scope</a>.</p>


<h2>Redeclaring</h2>
<p>Redeclaring a JavaScript var variable is allowed anywhere in a program:</p>
<pre>
var x = 2;     // Allowed 
var x = 3;     // Allowed 
x = 4;         // Allowed 
</pre>
<p>Redeclaring an existing var or let variable to const, in the same scope, is not allowed:</p>
<pre>
var x = 2;     // Allowed 
const x = 2;   // Not allowed 

{ 
let x = 2;     // Allowed 
const x = 2;   // Not allowed 
} 

{ 
const x = 2;   // Allowed 
const x = 2;   // Not allowed 
}
</pre>

<p>Reassigning an existing const variable, in the same scope, is not allowed:</p>

<pre>
const x = 2;     // Allowed 
x = 2;           // Not allowed 
var x = 2;       // Not allowed 
let x = 2;       // Not allowed 
const x = 2;     // Not allowed 

{ 
  const x = 2;   // Allowed 
  x = 2;         // Not allowed 
  var x = 2;     // Not allowed 
  let x = 2;     // Not allowed 
  const x = 2;   // Not allowed 
}
</pre>

<p>Redeclaring a variable with const, in another scope, or in another block, is allowed:</p>
<pre>
const x = 2;       // Allowed 

{ 
  const x = 3;   // Allowed 
}

{ 
  const x = 4;   // Allowed 
}
</pre>

<h2>Const Hoisting</h2>
<p>Variables defined with var are hoisted to the top and can be initialized at any time. <br>
Meaning: You can use the variable before it is declared:</p>
<h3>Example</h3>
<h3>This is OK:</h3>
<pre>
carName = "Volvo";
var carName;
</pre>

<p>
  If you want to learn more about hoisting, study the chapter <a href="https://www.w3schools.com/js/js_hoisting.asp">JavaScript Hoisting.</a>
<br>
Variables defined with const are also hoisted to the top, but not initialized.
<br>
Meaning: Using a const variable before it is declared will result in a ReferenceError:
</p>
<h3>Example</h3>
<pre>
alert (carName);
const carName = "Volvo";
</pre>

<h3>Output</h3>

<div>
<p>With <b>const</b>, you cannot use a variable before it is declared:</p>
<p id="demo6"></p>
<script>
try {
  alert(carName6);
  const carName6 = "Volvo";
}
catch (err) {
  document.getElementById("demo6").innerHTML = err;
}
</script>
</div>



</body>
</html>